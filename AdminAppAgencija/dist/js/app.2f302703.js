(function(){"use strict";var t={8384:function(t,a,e){var r=e(7195),n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("Navbar"),a("router-view")],1)},o=[],s=function(){var t=this,a=t._self._c;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("div",{staticClass:"container-fluid"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Turisticka agencija")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:{active:"AllProductsView"===this.$router.currentRoute.name},attrs:{to:{name:"AllProductsView"},tag:"a"}},[t._v("Aranzmani")])],1),t.canLogout?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:{active:"MyProductsView"===this.$router.currentRoute.name},attrs:{to:{name:"MyProductsView"},tag:"a"}},[t._v("MyReservations")])],1):t._e(),t.canLogout?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:{active:"About"===this.$router.currentRoute.name},attrs:{to:{name:"About"},tag:"a"}},[t._v("About")])],1):t._e()]),t.canLoginIf?a("form",{staticClass:"d-flex",on:{submit:function(a){return a.preventDefault(),t.login.apply(null,arguments)}}},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Login")])]):t._e(),t.canLogin?a("form",{staticClass:"d-flex",on:{submit:function(a){return a.preventDefault(),t.register.apply(null,arguments)}}},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Register")])]):t._e(),t.canLogout?a("form",{staticClass:"d-flex",on:{submit:function(a){return a.preventDefault(),t.logout.apply(null,arguments)}}},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Logout")])]):t._e()])])])])},i=[function(){var t=this,a=t._self._c;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=(e(7658),{name:"Navbar",computed:{canLogout(){return"izlogovan"!==this.$store.state.token},canLogin(){return"izlogovan"===this.$store.state.token},canLoginIf(){return"izlogovan"===this.$store.state.token&&"login"!==this.$router.currentRoute}},methods:{logout(){localStorage.removeItem("token"),this.$store.state.token="izlogovan",this.$router.push({name:"Login"})},login(){this.$router.push({name:"Login"})},register(){this.$router.push({name:"Register"})}}}),u=l,c=e(1001),m=(0,c.Z)(u,s,i,!1,null,null,null),d=m.exports,p={comments:{Navbar:d},components:{Navbar:d}},v=p,f=(0,c.Z)(v,n,o,!1,null,null,null),h=f.exports,g=e(2241),b=function(){var t=this;t._self._c;return t._m(0)},_=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"hello"},[a("p"),a("h1",[t._v(" Welcome to Travel Agency!")]),a("p"),a("div",{staticClass:"proba"},[a("img",{staticClass:"slikica",attrs:{alt:"logo",src:e(4711)}})]),a("br"),a("p",{staticClass:"text"},[t._v("Travel with us, all around the world! "),a("br"),t._v(" Visit more than 100 countries, and book best hotels! "),a("br"),t._v(" More informations about travelling, you can find on our website. "),a("br"),t._v(" Enjoy! ")])])}],y={name:"HelloWorld",props:{msg:String}},P=y,k=(0,c.Z)(P,b,_,!1,null,"7d3eb620",null),w=k.exports,C=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"app"}},[a("b-container",[a("b-form",{on:{submit:[function(t){t.stopPropagation(),t.preventDefault()},t.onSubmit]}},[a("b-form-group",{attrs:{label:"First name:","label-for":"first_name"}},[a("b-form-input",{attrs:{state:t.validatorFName,id:"first_name",type:"text",placeholder:"First name",required:""},model:{value:t.form.first_name,callback:function(a){t.$set(t.form,"first_name",a)},expression:"form.first_name"}}),a("b-form-invalid-feedback",{attrs:{state:t.validatorFName}},[t._v(" First name must contain more than 3 character. ")])],1),a("b-form-group",{attrs:{label:"Last name:","label-for":"last_name"}},[a("b-form-input",{attrs:{state:t.validatorLName,id:"lastName",type:"text",placeholder:"Last name",required:""},model:{value:t.form.last_name,callback:function(a){t.$set(t.form,"last_name",a)},expression:"form.last_name"}}),a("b-form-invalid-feedback",{attrs:{state:t.validatorLName}},[t._v(" Last name must contain more than 3 character. ")])],1),a("b-form-group",{attrs:{label:"Email:","label-for":"email"}},[a("b-form-input",{attrs:{state:t.validatorEmail,id:"email",type:"email",placeholder:"email@example.com",required:""},model:{value:t.form.email,callback:function(a){t.$set(t.form,"email",a)},expression:"form.email"}}),a("b-form-invalid-feedback",{attrs:{state:t.validatorEmail}},[t._v(" That is not a valid email address. ")])],1),a("b-form-group",{attrs:{label:"Password:","label-for":"password"}},[a("b-form-input",{attrs:{state:t.validatorPassword,id:"password",type:"password",placeholder:"Password",required:""},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}}),a("b-form-invalid-feedback",{attrs:{state:t.validatorPassword}},[t._v(" Password must be between 5 and 256 characters. ")]),a("b-form-valid-feedback",{attrs:{state:t.validatorPassword&&t.validatorEmail&&t.validatorFName&&t.validatorLName}})],1),a("b-button-group",[a("b-button",{attrs:{type:"submit",variant:"dark",id:"submit"}},[t._v("Sign Up")]),a("b-button",{attrs:{variant:"dark",id:"goToSignIn",to:"/login"}},[t._v("Go to Sign In ")])],1)],1)],1)],1)},S=[],z=e(408),x={data(){return{form:{password:"",email:"",first_name:"",last_name:""}}},methods:{...(0,z.nv)(["register"]),onSubmit(t){t.preventDefault(),this.validatorEmail&&this.validatorFName&&this.validatorLName&&this.validatorPassword&&(this.register({ime:this.form.first_name,prezime:this.form.last_name,email:this.form.email,sifra:this.form.password}),this.$router.push({name:"AllProductsView"}))}},computed:{validatorPassword(){return this.form.password.length>=5&&this.form.password.length<=256},validatorEmail(){return!(!this.form.email.includes("@")||!this.form.email.includes("."))},validatorFName(){return this.form.first_name.length>=4&&this.form.first_name.length<=128},validatorLName(){return this.form.last_name.length>=4&&this.form.last_name.length<=128}}},j=x,T=(0,c.Z)(j,C,S,!1,null,"26a710c6",null),L=T.exports,N=function(){var t=this,a=t._self._c;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"login"},[a("h1",[t._v("Login")]),a("div",{staticClass:"login-image"}),a("form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"login-form-control",attrs:{id:"usernameInput",name:"username",type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-form-control",attrs:{id:"passwordInput",name:"password",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}}),a("button",{staticClass:"login-button",attrs:{type:"submit",id:"login",name:"login-button"}},[t._v("Login")])])])])])},$=[],A={name:"Login",data(){return{username:"",password:""}},methods:{...(0,z.nv)(["login"]),onSubmit(t){t.preventDefault(),""!==this.username&&this.login({ime:this.username,sifra:this.password}),this.$router.push({name:"AllProductsView"})}}},O=A,I=(0,c.Z)(O,N,$,!1,null,null,null),M=I.exports,Z=function(){var t=this,a=t._self._c;return a("div",{staticClass:"row"},t._l(t.getProductsForArr,(function(t){return a("div",{key:t.id,staticClass:"col-sm-4"},[a("SingleProduct",{attrs:{aranzman:t}})],1)})),0)},F=[],R=function(){var t=this,a=t._self._c;return a("div",{staticClass:"aranzman"},[a("div",[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{"img-src":"https://fastly.picsum.photos/id/71/5000/3333.jpg?hmac=wBjyqoAke0uv6bTtbbIby9s-VTQ52gIkI-QVXWS3W0I","img-alt":"Image","img-top":"",tag:"article"}},[a("b-card-text",[a("ul",[a("li",[t._v("Naziv: "+t._s(t.aranzman.naziv))]),a("li",[t._v("Kolicina: "+t._s(t.aranzman.kolicina))]),a("li",[t._v("Hotel: "+t._s(t.aranzman.hotelID))]),a("li",[t._v("Dana: "+t._s(t.aranzman.trajanjeID)+" ")])])]),t.logged?a("form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("button",{attrs:{type:"submit",href:"#",variant:"primary"}},[t._v("Rezervisi")])]):t._e()],1)],1)])},V=[],D=e(6192);r["default"].use(z.ZP);var E=new z.ZP.Store({state:{token:"izlogovan",allProducts:[],myProducts:[]},getters:{getProducts:t=>t.allProducts,getMyProducts:t=>t.myProducts},mutations:{addProducts(t,a){t.allProducts=a},getClientProducts(t,a){t.myProducts=a},addProduct(t,a){t.myProducts.push(a)},setToken(t,a){t.token=a,localStorage.token=a},removeToken(t){t.token="izlogovan",localStorage.token="izlogovan"},getToken(){return localStorage.token}},actions:{fetchProducts({commit:t}){fetch("http://localhost:7000/admin/aranzman",{method:"GET"}).then((t=>t.json())).then((a=>{t("addProducts",a)}))},fetchMyReservations({commit:t}){fetch("http://localhost:7000/admin/racun",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.token}`}}).then((t=>t.json())).then((a=>{t("getClientProducts",a)}))},rezervisi({commit:t},a){fetch("http://localhost:7000/admin/racun",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.token}`},body:JSON.stringify(a)}).then((t=>t.json())).then((t=>{if(t.msg)return alert(t.msg),t.msg}))},register({commit:t},a){fetch("http://localhost:8080/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((t=>t.json())).then((a=>{a.msg?alert(a.msg):t("setToken",a.token)}))},login({commit:t},a){fetch("http://localhost:8080/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((t=>t.json())).then((a=>{if(a.msg)return alert(a.msg),a.msg;t("setToken",a.token)}))}}});let W=(0,D.ZP)("http://localhost:7000",{});W.connect(),W.on("vracen",(t=>{E.commit("addProducts",t)}));var q={name:"SingleProduct",props:{aranzman:Object},computed:{logged(){return"izlogovan"!==this.$store.state.token}},methods:{...(0,z.nv)(["rezervisi"]),onSubmit(t){this.rezervisi({}),W.emit("smanji",{aranzman:this.aranzman.id,broj:this.aranzman.kolicina-1})}}},B=q,G=(0,c.Z)(B,R,V,!1,null,null,null),Q=G.exports,H={name:"AllProducts",components:{SingleProduct:Q},computed:{...(0,z.Se)(["getProducts"]),getProductsForArr(){return Object.values(this.getProducts)}},mounted(){this.fetchProducts()},methods:{...(0,z.nv)(["fetchProducts","rezervisi"])}},J=H,X=(0,c.Z)(J,Z,F,!1,null,null,null),U=X.exports,K=function(){var t=this,a=t._self._c;return a("div",{staticClass:"row"},t._l(t.getProductsForArr,(function(t){return a("div",{key:t.id,staticClass:"col-sm-4"},[a("MySingleProduct",{attrs:{aranzman:t}})],1)})),0)},Y=[],tt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"aranzman"},[a("div",[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{"img-src":"https://fastly.picsum.photos/id/71/5000/3333.jpg?hmac=wBjyqoAke0uv6bTtbbIby9s-VTQ52gIkI-QVXWS3W0I","img-alt":"Image","img-top":"",tag:"article"}},[a("b-card-text",[a("ul",[a("li",[t._v('Naziv: "Nezaboravno leto"')]),a("li",[t._v("Broj korisnik: "+t._s(t.aranzman.korisnikID))]),a("li",[t._v("Racun br: "+t._s(t.aranzman.id))]),a("li",[t._v("Naziv: "+t._s(t.aranzman.popust))])])])],1)],1)])},at=[],et={name:"MySingleProduct",props:{aranzman:Object},computed:{logged(){return"izlogovan"!==this.$store.state.token}},methods:{}},rt=et,nt=(0,c.Z)(rt,tt,at,!1,null,null,null),ot=nt.exports,st={name:"MySingleProducts",components:{MySingleProduct:ot},computed:{...(0,z.Se)(["getMyProducts"]),getProductsForArr(){return Object.values(this.getMyProducts)}},mounted(){this.fetchMyReservations()},methods:{...(0,z.nv)(["fetchMyReservations"])}},it=st,lt=(0,c.Z)(it,K,Y,!1,null,null,null),ut=lt.exports,ct=function(){var t=this,a=t._self._c;return a("div",{staticClass:"card"},[a("h1",{staticClass:"card-header"},[t._v("Welcome, "+t._s(t.user.ime))]),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v("Email: "+t._s(t.user.email))]),a("p",{staticClass:"card-text"},[t._v("Phone: "+t._s("0644039225"))])])])},mt=[],dt={data(){return{user:null}},mounted(){fetch("http://localhost:7000/admin/korisinik",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.$store.state.token}`}}).then((t=>t.json())).then((t=>{t.msg?alert(t.msg):this.user=t}))}},pt=dt,vt=(0,c.Z)(pt,ct,mt,!1,null,null,null),ft=vt.exports;r["default"].use(g.ZP);const ht=[{path:"/",name:"HelloWorld",component:w},{path:"/signup",name:"Register",component:L},{path:"/login",name:"Login",component:M},{path:"/allProducts",name:"AllProductsView",component:U},{path:"/myProducts",name:"MyProductsView",component:ut},{path:"/about",name:"About",component:ft}],gt=new g.ZP({mode:"history",base:"/",routes:ht});var bt=gt,_t=e(4359),yt=e(7244);e(7024);r["default"].use(_t.XG7),r["default"].use(yt.A7),r["default"].config.productionTip=!1,new r["default"]({router:bt,store:E,render:t=>t(h)}).$mount("#app")},4711:function(t,a,e){t.exports=e.p+"img/travelAgency.a03a9f21.png"}},a={};function e(r){var n=a[r];if(void 0!==n)return n.exports;var o=a[r]={exports:{}};return t[r](o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(a,r,n,o){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],n=t[c][1],o=t[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(e.O).every((function(t){return e.O[t](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){t.splice(c--,1);var u=n();void 0!==u&&(a=u)}}return a}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,n,o]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,r){var n,o,s=r[0],i=r[1],l=r[2],u=0;if(s.some((function(a){return 0!==t[a]}))){for(n in i)e.o(i,n)&&(e.m[n]=i[n]);if(l)var c=l(e)}for(a&&a(r);u<s.length;u++)o=s[u],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(c)},r=self["webpackChunkagencija_vue"]=self["webpackChunkagencija_vue"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(8384)}));r=e.O(r)})();
//# sourceMappingURL=app.2f302703.js.map